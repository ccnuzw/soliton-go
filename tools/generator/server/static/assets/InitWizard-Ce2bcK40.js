import{d as P,r as p,k as b,c as u,a as e,b as c,n as f,e as x,l as w,j as m,v as y,m as S,t as l,F as V,f as I,i as d}from"./index-CNnF1iXF.js";import{a as h,_ as O}from"./_plugin-vue_export-helper-1WfN36Ns.js";const F={class:"wizard"},G={class:"steps"},K={key:0,class:"step-content"},M={class:"form-group"},T={class:"form-group"},W=["placeholder"],z={class:"hint"},U={class:"form-group"},B={key:0,class:"error"},D={class:"actions"},E=["disabled"],R={key:1,class:"step-content"},$={class:"preview-info"},H={class:"file-list"},J={class:"file-path"},L={key:0,class:"error"},q={class:"actions"},A=["disabled"],Q={key:2,class:"step-content"},X={class:"success-message"},Y={class:"next-steps"},Z=P({__name:"InitWizard",setup(ee){const o=p(1),n=p(!1),v=p(null),i=p(""),s=p({name:"",module_name:"",framework_version:"",framework_replace:""}),_=b(()=>s.value.name?`github.com/soliton-go/${s.value.name}`:""),g=b(()=>s.value.module_name||_.value);async function k(){i.value="",n.value=!0;try{v.value=await h.previewInitProject({...s.value,module_name:g.value}),o.value=2}catch(r){i.value=r.message}finally{n.value=!1}}async function j(){i.value="",n.value=!0;try{v.value=await h.initProject({...s.value,module_name:g.value}),o.value=3}catch(r){i.value=r.message}finally{n.value=!1}}async function C(){n.value=!0;try{const r=`../../${s.value.name}`;if(!(await fetch("/api/projects/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:r})})).ok)throw new Error("Failed to switch project");window.location.reload()}catch(r){i.value=r.message}finally{n.value=!1}}function N(){o.value=1,v.value=null,s.value={name:"",module_name:"",framework_version:"",framework_replace:""}}return(r,t)=>(d(),u("div",F,[t[17]||(t[17]=e("h1",null,"ğŸš€ åˆå§‹åŒ–æ–°é¡¹ç›® Init Project",-1)),e("div",G,[e("div",{class:f(["step",{active:o.value>=1,done:o.value>1}])},"1. é…ç½® Configure",2),e("div",{class:f(["step",{active:o.value>=2,done:o.value>2}])},"2. é¢„è§ˆ Preview",2),e("div",{class:f(["step",{active:o.value>=3}])},"3. å®Œæˆ Done",2)]),o.value===1?(d(),u("div",K,[t[9]||(t[9]=x('<details class="help-tips" data-v-f886991f><summary data-v-f886991f>ğŸ’¡ é…ç½®è¯´æ˜ Configuration Help</summary><div class="tips-content" data-v-f886991f><p data-v-f886991f><strong data-v-f886991f>é¡¹ç›®åç§°ï¼š</strong>å°†ä½œä¸ºé¡¹ç›®ç›®å½•åï¼Œå»ºè®®ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼Œå¦‚ <code data-v-f886991f>my-project</code></p><p data-v-f886991f><strong data-v-f886991f>æ¨¡å—åç§°ï¼š</strong>Go æ¨¡å—çš„å¯¼å…¥è·¯å¾„ï¼Œé€šå¸¸æ ¼å¼ä¸º <code data-v-f886991f>github.com/username/project</code></p><p data-v-f886991f><strong data-v-f886991f>æ¡†æ¶æ›¿æ¢ï¼š</strong>ä»…åœ¨æœ¬åœ°å¼€å‘ Soliton æ¡†æ¶æ—¶ä½¿ç”¨ï¼ŒæŒ‡å‘æ¡†æ¶çš„æœ¬åœ°è·¯å¾„</p></div></details>',1)),e("div",M,[t[4]||(t[4]=e("label",null,[m(" é¡¹ç›®åç§° Project Name * "),e("span",{class:"tooltip","data-tooltip":"é¡¹ç›®ç›®å½•åç§°ï¼Œå°†åˆ›å»ºæ­¤åç§°çš„æ–‡ä»¶å¤¹"},"â“˜")],-1)),w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.value.name=a),placeholder:"my-awesome-project",onKeyup:S(k,["enter"])},null,544),[[y,s.value.name]]),t[5]||(t[5]=e("span",{class:"hint"},"æ–°é¡¹ç›®çš„ç›®å½•åç§°",-1))]),e("div",T,[t[6]||(t[6]=e("label",null,[m(" æ¨¡å—åç§° Module Name "),e("span",{class:"tooltip","data-tooltip":"Go æ¨¡å—è·¯å¾„ï¼Œç”¨äº import è¯­å¥"},"â“˜")],-1)),w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.value.module_name=a),placeholder:_.value||"github.com/yourname/my-project"},null,8,W),[[y,s.value.module_name]]),e("span",z,"Go æ¨¡å—è·¯å¾„ï¼ˆé»˜è®¤ï¼šgithub.com/soliton-go/"+l(s.value.name||"project")+"ï¼‰",1)]),e("div",U,[t[7]||(t[7]=e("label",null,[m(" æ¡†æ¶æ›¿æ¢è·¯å¾„ Framework Replaceï¼ˆå¯é€‰ï¼‰ "),e("span",{class:"tooltip","data-tooltip":"æœ¬åœ°å¼€å‘æ—¶ä½¿ç”¨ï¼ŒæŒ‡å‘ soliton-go/framework çš„è·¯å¾„"},"â“˜")],-1)),w(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s.value.framework_replace=a),placeholder:"../framework æˆ– /path/to/framework"},null,512),[[y,s.value.framework_replace]]),t[8]||(t[8]=e("span",{class:"hint"},"ç”¨äºå¼€å‘çš„ soliton-go/framework æœ¬åœ°è·¯å¾„",-1))]),i.value?(d(),u("div",B,l(i.value),1)):c("",!0),e("div",D,[e("button",{class:"btn primary",disabled:!s.value.name||n.value,onClick:k},l(n.value?"åŠ è½½ä¸­...":"é¢„è§ˆ Preview â†’"),9,E)])])):c("",!0),o.value===2?(d(),u("div",R,[e("div",$,[t[10]||(t[10]=e("strong",null,"é¡¹ç›® Project:",-1)),m(" "+l(s.value.name),1),t[11]||(t[11]=e("br",null,null,-1)),t[12]||(t[12]=e("strong",null,"æ¨¡å— Module:",-1)),m(" "+l(g.value),1)]),e("div",H,[t[13]||(t[13]=e("h3",null,"å°†è¦åˆ›å»ºçš„æ–‡ä»¶ Files to Create:",-1)),(d(!0),u(V,null,I(v.value?.files,a=>(d(),u("div",{class:"file",key:a.path},[e("span",{class:f(["file-status",a.status])},l(a.status==="new"?"NEW":a.status==="skip"?"SKIP":a.status),3),e("span",J,l(a.path),1)]))),128))]),i.value?(d(),u("div",L,l(i.value),1)):c("",!0),e("div",q,[e("button",{class:"btn",onClick:t[3]||(t[3]=a=>o.value=1)},"â† è¿”å›"),e("button",{class:"btn primary",disabled:n.value,onClick:j},l(n.value?"åˆ›å»ºä¸­...":"åˆ›å»ºé¡¹ç›® Create"),9,A)])])):c("",!0),o.value===3?(d(),u("div",Q,[t[15]||(t[15]=e("div",{class:"success-icon"},"âœ…",-1)),t[16]||(t[16]=e("h2",null,"é¡¹ç›®åˆ›å»ºæˆåŠŸï¼Project Created Successfully!",-1)),e("p",X,l(v.value?.message),1),e("div",Y,[t[14]||(t[14]=e("h3",null,"ä¸‹ä¸€æ­¥ Next Steps:",-1)),e("pre",null,"cd "+l(s.value.name)+`
GOWORK=off go mod tidy
soliton-gen domain User --fields "username,email" --wire
GOWORK=off go run ./cmd/main.go`,1)]),e("div",{class:"actions",style:{"margin-top":"24px"}},[e("button",{class:"btn",onClick:N},"åˆ›å»ºå¦ä¸€ä¸ªé¡¹ç›®"),e("button",{class:"btn primary",onClick:C},"åˆ‡æ¢åˆ°æ–°é¡¹ç›® â†’")])])):c("",!0)]))}}),ae=O(Z,[["__scopeId","data-v-f886991f"]]);export{ae as default};
