import{a as C,_ as P}from"./_plugin-vue_export-helper-BkqGbvhh.js";import{d as S,r as n,o as E,c as s,a,b,e as y,t as r,n as c,F as T,f as N,g as p,w as g,h as V,i as e,j as F}from"./index-CDk2boWA.js";const O={class:"dashboard"},G=["open"],H={key:0,class:"status-card"},R={class:"status-content"},x={key:0,class:"status-path"},L={key:1,class:"status-hint"},Q=["title"],A={key:1,class:"project-selector"},B={class:"project-list"},I=["onClick"],M={class:"project-info"},$={class:"project-name"},J={key:0,class:"current-badge"},z={class:"project-module"},U={class:"project-action"},q={key:0},K={key:1,class:"switch-icon"},W={key:0,class:"hint"},X={class:"cards"},Y={key:0},Z={key:1,class:"loading"},tt={key:2,class:"success"},at={key:3,class:"error"},st=S({__name:"Dashboard",setup(et){const d=n(null),f=n(!0),D=n(!1),h=n([]),u=n(!1),_=n(!1);E(async()=>{try{d.value=await C.getLayout(),await j()}catch(o){console.error(o)}finally{f.value=!1}});async function j(){try{const t=await(await fetch("/api/projects/list")).json();h.value=t.projects||[]}catch(o){console.error("Failed to load projects:",o)}}async function k(o){_.value=!0;try{if(!(await fetch("/api/projects/switch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:o})})).ok)throw new Error("Failed to switch project");window.location.reload()}catch(t){console.error("Failed to switch project:",t),alert("åˆ‡æ¢é¡¹ç›®å¤±è´¥: "+t.message)}finally{_.value=!1}}const m=n(!1),i=n(null);async function w(){if(!d.value?.module_dir){alert("æœªæ£€æµ‹åˆ°é¡¹ç›®");return}m.value=!0,i.value=null;try{const t=await(await fetch("/api/projects/tidy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_path:d.value.module_dir})})).json();i.value={success:t.success,message:t.success?t.message||"ä¾èµ–æ›´æ–°æˆåŠŸ":t.error||"ä¾èµ–æ›´æ–°å¤±è´¥"},setTimeout(()=>{i.value=null},3e3)}catch(o){i.value={success:!1,message:`ä¾èµ–æ›´æ–°å¤±è´¥: ${o.message}`}}finally{m.value=!1}}return(o,t)=>{const v=V("RouterLink");return e(),s("div",O,[t[10]||(t[10]=a("header",{class:"header"},[a("h1",null,"æ¬¢è¿ä½¿ç”¨ Soliton-Gen"),a("p",{class:"subtitle"},"è½»æ¾ç”Ÿæˆ DDD é£æ ¼çš„ Go ä»£ç ")],-1)),a("details",{class:"guide",open:D.value},[...t[1]||(t[1]=[y('<summary data-v-545db871>ğŸ“– ä½¿ç”¨æŒ‡å— Quick Guide</summary><div class="guide-content" data-v-545db871><div class="guide-section" data-v-545db871><h4 data-v-545db871>ğŸš€ å¿«é€Ÿå¼€å§‹</h4><ol data-v-545db871><li data-v-545db871><strong data-v-545db871>æ–°é¡¹ç›®ï¼š</strong>ç‚¹å‡» <strong data-v-545db871>åˆå§‹åŒ–é¡¹ç›®</strong> åˆ›å»ºå®Œæ•´çš„ DDD é¡¹ç›®ç»“æ„</li><li data-v-545db871><strong data-v-545db871>ç”Ÿæˆé¢†åŸŸï¼š</strong>å®šä¹‰å®ä½“åç§°å’Œå­—æ®µï¼Œè‡ªåŠ¨ç”Ÿæˆ Entityã€Repositoryã€Handler ç­‰</li><li data-v-545db871><strong data-v-545db871>ç”ŸæˆæœåŠ¡ï¼š</strong>åˆ›å»ºè·¨é¢†åŸŸä¸šåŠ¡é€»è¾‘çš„åº”ç”¨æœåŠ¡å±‚</li><li data-v-545db871><strong data-v-545db871>é¢†åŸŸå¢å¼ºï¼š</strong>ç”Ÿæˆ Value Objectã€Specificationã€Policyã€Event &amp; Handler</li><li data-v-545db871><strong data-v-545db871>è¿ç§»ä¸­å¿ƒï¼š</strong>æ‰§è¡Œè¿ç§»å¹¶æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ä¸å†å²è®°å½•</li><li data-v-545db871><strong data-v-545db871>æ›´æ–°ä¾èµ–ï¼š</strong>ç‚¹å‡» <strong data-v-545db871>æ›´æ–°ä¾èµ–</strong> å¡ç‰‡è¿è¡Œ go mod tidy</li></ol></div><div class="guide-section" data-v-545db871><h4 data-v-545db871>âœ¨ æ–°åŠŸèƒ½</h4><ul data-v-545db871><li data-v-545db871>âœ… ç”Ÿæˆé¢†åŸŸ/æœåŠ¡å <strong data-v-545db871>è‡ªåŠ¨è¿è¡Œ go mod tidy</strong> ä¸‹è½½ä¾èµ–</li><li data-v-545db871>âœ… å­—æ®µæ”¯æŒ <strong data-v-545db871>ä¸Šä¸‹ç§»åŠ¨</strong> è°ƒæ•´é¡ºåº</li><li data-v-545db871>âœ… åˆ é™¤é¢†åŸŸæ—¶ <strong data-v-545db871>è‡ªåŠ¨æ¸…ç†</strong> æ‰€æœ‰ç›¸å…³æ–‡ä»¶å’Œæ³¨å…¥ä»£ç </li><li data-v-545db871>âœ… ä½¿ç”¨ <strong data-v-545db871>å¼ºåˆ¶è¦†ç›–</strong> å¯å®Œå…¨æ›¿æ¢ç°æœ‰é¢†åŸŸå®šä¹‰</li><li data-v-545db871>âœ… DDD ç»„ä»¶æ”¯æŒ <strong data-v-545db871>ç»„åˆç”Ÿæˆ</strong>ï¼ˆEvent + Handlerï¼‰</li><li data-v-545db871>âœ… è¿ç§»ä¸­å¿ƒæ”¯æŒ <strong data-v-545db871>è¯¦ç»†æ—¥å¿—ä¸å†å²è®°å½•</strong></li></ul></div><div class="guide-section" data-v-545db871><h4 data-v-545db871>ğŸ’¡ æç¤º</h4><ul data-v-545db871><li data-v-545db871>æ‰€æœ‰ç”Ÿæˆæ“ä½œéƒ½æ”¯æŒ <strong data-v-545db871>é¢„è§ˆ</strong>ï¼Œå¯ä»¥åœ¨å®é™…åˆ›å»ºå‰æŸ¥çœ‹å°†ç”Ÿæˆçš„æ–‡ä»¶</li><li data-v-545db871>å‹¾é€‰ <strong data-v-545db871>è‡ªåŠ¨æ³¨å…¥åˆ° main.go</strong> å¯ä»¥è‡ªåŠ¨å®Œæˆæ¨¡å—æ³¨å†Œ</li><li data-v-545db871>IDã€CreatedAtã€UpdatedAt ç­‰ç³»ç»Ÿå­—æ®µä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ </li></ul></div></div>',2)])],8,G),f.value?b("",!0):(e(),s("div",H,[a("div",{class:c(["status-indicator",d.value?.found?"found":"not-found"])},r(d.value?.found?"âœ“":"!"),3),a("div",R,[a("h3",null,r(d.value?.found?"å·²æ£€æµ‹åˆ°é¡¹ç›® Project Detected":"æœªæ‰¾åˆ°é¡¹ç›® No Project Found"),1),d.value?.found?(e(),s("p",x,r(d.value.module_path),1)):(e(),s("p",L,"è¯·åœ¨åŒ…å« go.mod å’Œ internal/ ç›®å½•çš„é¡¹ç›®ä¸­è¿è¡Œ"))]),h.value.length>1?(e(),s("button",{key:0,class:"btn-switch",onClick:t[0]||(t[0]=l=>u.value=!u.value),title:u.value?"å…³é—­é¡¹ç›®é€‰æ‹©å™¨":"åˆ‡æ¢é¡¹ç›®"},r(u.value?"âœ•":"â‡„"),9,Q)):b("",!0)])),u.value&&h.value.length>0?(e(),s("div",A,[t[2]||(t[2]=a("h3",null,"å¯ç”¨é¡¹ç›® Available Projects",-1)),a("div",B,[(e(!0),s(T,null,N(h.value,l=>(e(),s("div",{key:l.path,class:c(["project-item",{active:l.is_current}]),onClick:dt=>!l.is_current&&k(l.path)},[a("div",M,[a("div",$,[F(r(l.name)+" ",1),l.is_current?(e(),s("span",J,"å½“å‰")):b("",!0)]),a("div",z,r(l.module_path),1)]),a("div",U,[l.is_current?(e(),s("span",q,"âœ“")):(e(),s("span",K,"â†’"))])],10,I))),128))]),_.value?(e(),s("p",W,"æ­£åœ¨åˆ‡æ¢é¡¹ç›®...")):b("",!0)])):b("",!0),a("div",X,[p(v,{to:"/init",class:"card"},{default:g(()=>[...t[3]||(t[3]=[a("div",{class:"card-icon"},"ğŸš€",-1),a("h3",null,"åˆå§‹åŒ–é¡¹ç›® Init Project",-1),a("p",null,"åˆ›å»ºä¸€ä¸ªæ–°çš„ Soliton-Go é¡¹ç›®ï¼ŒåŒ…å«å®Œæ•´çš„ DDD ç»“æ„",-1)])]),_:1}),p(v,{to:"/domain",class:c(["card",{disabled:!d.value?.found}])},{default:g(()=>[...t[4]||(t[4]=[a("div",{class:"card-icon"},"ğŸ“¦",-1),a("h3",null,"ç”Ÿæˆé¢†åŸŸ Domain",-1),a("p",null,"åˆ›å»º Entityã€Repositoryã€Eventsã€Commandsã€Queries å’Œ HTTP Handler",-1)])]),_:1},8,["class"]),p(v,{to:"/service",class:c(["card",{disabled:!d.value?.found}])},{default:g(()=>[...t[5]||(t[5]=[a("div",{class:"card-icon"},"âš™ï¸",-1),a("h3",null,"ç”ŸæˆæœåŠ¡ Service",-1),a("p",null,"åˆ›å»ºè·¨é¢†åŸŸä¸šåŠ¡é€»è¾‘çš„åº”ç”¨æœåŠ¡å±‚",-1)])]),_:1},8,["class"]),p(v,{to:"/ddd",class:c(["card",{disabled:!d.value?.found}])},{default:g(()=>[...t[6]||(t[6]=[a("div",{class:"card-icon"},"ğŸ§©",-1),a("h3",null,"é¢†åŸŸå¢å¼º DDD",-1),a("p",null,"ç”Ÿæˆ Value Objectã€Specificationã€Policyã€Event å’Œ Handler",-1)])]),_:1},8,["class"]),p(v,{to:"/migration",class:c(["card",{disabled:!d.value?.found}])},{default:g(()=>[...t[7]||(t[7]=[a("div",{class:"card-icon"},"ğŸ› ï¸",-1),a("h3",null,"è¿ç§»ä¸­å¿ƒ Migration",-1),a("p",null,"æ‰§è¡Œè¿ç§»å¹¶æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ä¸å†å²è®°å½•",-1)])]),_:1},8,["class"]),a("div",{class:c(["card action-card",{disabled:!d.value?.found}]),onClick:w},[t[8]||(t[8]=a("div",{class:"card-icon"},"ğŸ“¦",-1)),t[9]||(t[9]=a("h3",null,"æ›´æ–°ä¾èµ– Dependencies",-1)),!m.value&&!i.value?(e(),s("p",Y,"è¿è¡Œ go mod tidy ä¸‹è½½å’Œæ•´ç†é¡¹ç›®ä¾èµ–")):m.value?(e(),s("p",Z,"â³ æ­£åœ¨æ›´æ–°ä¾èµ–...")):i.value?.success?(e(),s("p",tt,"âœ… "+r(i.value.message),1)):(e(),s("p",at,"âŒ "+r(i.value?.message),1))],2)]),t[11]||(t[11]=y('<div class="features" data-v-545db871><h2 data-v-545db871>åŠŸèƒ½ç‰¹æ€§ Features</h2><ul data-v-545db871><li data-v-545db871>âœ¨ å¯è§†åŒ–å­—æ®µç¼–è¾‘å™¨ï¼Œæ”¯æŒæ‹–æ‹½</li><li data-v-545db871>ğŸ‘ï¸ ç”Ÿæˆå‰é¢„è§ˆä»£ç  Code Preview</li><li data-v-545db871>ğŸ”Œ è‡ªåŠ¨æ³¨å…¥æ¨¡å—åˆ° main.go</li><li data-v-545db871>ğŸ“„ å¼€ç®±å³ç”¨çš„åˆ†é¡µæ”¯æŒ Pagination</li><li data-v-545db871>ğŸ—‘ï¸ å¯é€‰çš„è½¯åˆ é™¤ Soft Delete</li><li data-v-545db871>ğŸ“ CQRS æ¨¡å¼çš„ Commands &amp; Queries</li><li data-v-545db871>ğŸ§© DDD ç»„ä»¶ç”Ÿæˆï¼ˆValue Object / Spec / Policy / Eventï¼‰</li><li data-v-545db871>ğŸ› ï¸ è¿ç§»ä¸­å¿ƒï¼ˆæ—¥å¿— / å†å² / é…ç½®ï¼‰</li></ul></div>',1))])}}}),it=P(st,[["__scopeId","data-v-545db871"]]);export{it as default};
