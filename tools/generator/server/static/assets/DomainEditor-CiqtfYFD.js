import{d as re,r as u,k as fe,o as ve,c as n,a as t,b as f,n as E,t as r,l as v,v as g,F as h,f as j,j as c,e as ce,p as M,q as me,s as pe,i}from"./index-CLoSShwM.js";import{a as w,_ as ye}from"./_plugin-vue_export-helper-BkqGbvhh.js";import{s as L,a as be}from"./toast-BEVcqZGg.js";const ge={class:"editor"},_e={class:"tabs"},ke={key:0,class:"domains-list"},he={class:"search-box"},we={key:0,class:"loading"},Ce={key:1,class:"empty"},De={key:2,class:"empty"},Ue={key:3,class:"domain-grid"},Ve=["onClick"],$e={class:"domain-header"},Fe={class:"domain-title"},Se={key:0,class:"domain-remark"},je={class:"header-actions"},Ne={class:"badge"},xe=["onClick"],Be={class:"domain-fields"},Pe={key:1},Ie={key:0,class:"editing-banner"},Oe={class:"layout"},Te={class:"form-panel"},qe={class:"form-group"},Ee={class:"form-group"},Me={class:"fields-section"},Le=["onUpdate:modelValue"],Re=["onUpdate:modelValue"],Ae=["value"],Ge=["value","onInput"],Je=["onUpdate:modelValue"],Qe={class:"field-actions"},We=["onClick","disabled"],ze=["onClick","disabled"],He=["onClick","disabled"],Ke={class:"bulk-import"},Xe={class:"bulk-actions"},Ye=["disabled"],Ze=["disabled"],et={key:0,class:"error"},tt={class:"options"},at={class:"form-group inline"},lt={"data-tooltip":"å¯ç”¨åå°†æ·»åŠ  DeletedAt å­—æ®µï¼Œåˆ é™¤æ—¶æ ‡è®°è€ŒéçœŸåˆ é™¤"},st={class:"form-group inline"},ot={"data-tooltip":"è‡ªåŠ¨åœ¨ main.go ä¸­æ³¨å†Œæ­¤æ¨¡å—"},nt={class:"form-group inline"},it={"data-tooltip":"è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶"},dt={key:0,class:"force-warning"},ut={class:"advanced"},rt={class:"form-group"},ft={class:"form-group"},vt={key:1,class:"error"},ct={class:"actions"},mt=["disabled"],pt=["disabled"],yt={key:0,class:"preview-panel"},bt={class:"preview-header"},gt={class:"file-list"},_t={class:"file-path"},kt={key:0,class:"message"},ht={class:"modal-message"},wt={class:"modal-actions"},Ct=re({__name:"DomainEditor",setup(Dt){const m=u(!1),p=u(null),y=u(""),C=u(!1),R=u([]),D=u([]),_=u("new"),P=u(!1),N=u(null),b=u(""),U=u(!1),V=u(null),k=u(""),$=u(""),o=u({name:"",remark:"",fields:[{name:"",type:"string",enum_values:[]}],table_name:"",route_base:"",soft_delete:!1,wire:!0,force:!1}),I=fe(()=>{if(!D.value||!b.value.trim())return D.value||[];const l=b.value.toLowerCase();return D.value.filter(e=>e.name.toLowerCase().includes(l)||(e.remark||"").toLowerCase().includes(l)||e.fields.some(a=>a.toLowerCase().includes(l)))});ve(async()=>{try{const l=await w.getFieldTypes();R.value=l.types,await O()}catch(l){console.error(l)}});async function O(){P.value=!0;try{const l=await w.listDomains();D.value=l.domains}catch(l){console.error("Failed to load domains:",l)}finally{P.value=!1}}async function z(l,e){e.stopPropagation(),V.value=l,U.value=!0}async function H(){if(!V.value)return;const l=V.value;U.value=!1;try{await w.deleteDomain(l),await O(),L(`é¢†åŸŸæ¨¡å— "${l}" åˆ é™¤æˆåŠŸ`)}catch(e){be(`åˆ é™¤å¤±è´¥: ${e.message}`)}finally{V.value=null}}async function K(l){m.value=!0,y.value="";try{const e=await w.getDomainDetail(l),a=e.fields.map(d=>{let s=X(d.type,d.is_enum);return{name:d.snake_name,type:s,comment:d.comment||"",enum_values:d.enum_values||[]}});o.value={name:e.name,remark:e.remark||"",fields:a.length>0?a:[{name:"",type:"string",enum_values:[]}],table_name:"",route_base:"",soft_delete:!1,wire:!1,force:!0},N.value=l,_.value="new"}catch(e){y.value=`åŠ è½½å¤±è´¥: ${e.message}`}finally{m.value=!1}}function X(l,e){return e?"enum":(l=l.replace("*",""),l==="string"?"string":l==="int"?"int":l==="int64"?"int64":l==="float64"?"float64":l==="bool"?"bool":l==="time.Time"?"time":l.includes("Time")?"time?":l==="datatypes.JSON"?"json":l==="[]byte"?"bytes":"enum")}function Y(){o.value.fields.push({name:"",type:"string",comment:"",enum_values:[]})}function Z(l){o.value.fields.length>1&&o.value.fields.splice(l,1)}function ee(l){if(l>0){const e=o.value.fields,a=e.splice(l,1)[0];e.splice(l-1,0,a)}}function te(l){const e=o.value.fields;if(l<e.length-1){const a=e.splice(l,1)[0];e.splice(l+1,0,a)}}function ae(l,e){l.enum_values=e.split("|").map(a=>a.trim()).filter(Boolean)}function le(l){const e=[],a=l.split(/\r?\n/).flatMap(d=>d.split(","));for(const d of a){let s=d.trim();if(!s||(s=s.replace(/^[-*]\s+/,"").replace(/^\d+[\.\)]\s+/,""),!s||s.startsWith("#")||s.startsWith("//")))continue;const F=s.split(":"),G=F[0]?.trim();if(!G)continue;const J=F.length>1?F[1]:"";let S=J?J.trim():"string",Q="";F.length>2&&(Q=F.slice(2).join(":").trim()),S||(S="string");let W=[];const q=S.match(/^enum(?:\(([^)]*)\))?$/);q&&(S="enum",q[1]&&(W=q[1].split("|").map(ue=>ue.trim()).filter(Boolean))),e.push({name:G,type:S,comment:Q,enum_values:W})}return e}function se(){$.value="";const l=le(k.value);if(l.length===0){$.value="æœªè¯†åˆ«åˆ°æœ‰æ•ˆå­—æ®µï¼Œè¯·æ£€æŸ¥æ ¼å¼";return}const e=new Set(o.value.fields.map(s=>s.name.trim()).filter(Boolean)),a=l.filter(s=>e.has(s.name)?!1:(e.add(s.name),!0));if(a.length===0){$.value="å­—æ®µå·²å­˜åœ¨ï¼Œæœªå¯¼å…¥æ–°å­—æ®µ";return}const d=o.value.fields[0];o.value.fields.length===1&&d&&!d.name.trim()?o.value.fields=a:o.value.fields.push(...a),k.value="",L(`å·²å¯¼å…¥ ${a.length} ä¸ªå­—æ®µ`)}async function oe(){y.value="",m.value=!0;try{const l=o.value.fields.filter(e=>e.name.trim());p.value=await w.previewDomain({...o.value,fields:l}),C.value=!0}catch(l){y.value=l.message}finally{m.value=!1}}async function ne(){y.value="",m.value=!0,T.value=!1,x.value="",B.value="";try{const l=o.value.fields.filter(e=>e.name&&e.type);p.value=await w.generateDomain({...o.value,fields:l}),C.value=!0,await O(),p.value.success&&(L(p.value.message||"ç”ŸæˆæˆåŠŸï¼"),await ie())}catch(l){y.value=l.message}finally{m.value=!1}}const T=u(!1),x=u(""),B=u("");async function ie(){T.value=!0,x.value="",B.value="";try{const a=(await(await fetch("/api/layout")).json()).module_dir||".";console.log("Running go mod tidy for:",a);const s=await(await fetch("/api/projects/tidy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_path:a})})).json();console.log("Tidy result:",s),s.success?x.value=s.message||"ä¾èµ–ä¸‹è½½æˆåŠŸ":(B.value=s.error||"ä¾èµ–ä¸‹è½½å¤±è´¥",s.output&&(x.value=s.output))}catch(l){console.error("Tidy error:",l),B.value=`ä¾èµ–ä¸‹è½½å¤±è´¥: ${l.message}`}finally{T.value=!1}}function A(){o.value={name:"",remark:"",fields:[{name:"",type:"string",enum_values:[]}],table_name:"",route_base:"",soft_delete:!1,wire:!0,force:!1},p.value=null,C.value=!1,N.value=null}function de(l){return{new:"æ–°å»º",overwrite:"è¦†ç›–",skip:"è·³è¿‡",error:"é”™è¯¯"}[l]||l}return(l,e)=>(i(),n(h,null,[t("div",ge,[e[35]||(e[35]=t("h1",null,"ğŸ“¦ ç”Ÿæˆé¢†åŸŸæ¨¡å— Domain",-1)),t("div",_e,[t("button",{class:E(["tab",{active:_.value==="new"}]),onClick:e[0]||(e[0]=a=>_.value="new")}," âœ¨ æ–°å»ºæ¨¡å— ",2),t("button",{class:E(["tab",{active:_.value==="existing"}]),onClick:e[1]||(e[1]=a=>_.value="existing")}," ğŸ“‹ å·²ç”Ÿæˆæ¨¡å— ("+r(D.value?.length||0)+") ",3)]),_.value==="existing"?(i(),n("div",ke,[t("div",he,[v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>b.value=a),type:"text",placeholder:"ğŸ” æœç´¢é¢†åŸŸæ¨¡å—æˆ–å­—æ®µ...",class:"search-input"},null,512),[[g,b.value]]),b.value?(i(),n("span",{key:0,class:"search-clear",onClick:e[3]||(e[3]=a=>b.value="")},"âœ•")):f("",!0)]),P.value?(i(),n("div",we,"åŠ è½½ä¸­...")):I.value.length===0&&!b.value?(i(),n("div",Ce,[...e[17]||(e[17]=[t("p",null,"æš‚æ— å·²ç”Ÿæˆçš„é¢†åŸŸæ¨¡å—",-1),t("p",{class:"hint"},'ç‚¹å‡»"æ–°å»ºæ¨¡å—"å¼€å§‹åˆ›å»º',-1)])])):I.value.length===0&&b.value?(i(),n("div",De,[...e[18]||(e[18]=[t("p",null,"æœªæ‰¾åˆ°åŒ¹é…çš„æ¨¡å—",-1),t("p",{class:"hint"},"å°è¯•å…¶ä»–å…³é”®è¯",-1)])])):(i(),n("div",Ue,[(i(!0),n(h,null,j(I.value,a=>(i(),n("div",{key:a.name,class:"domain-card",onClick:d=>K(a.name)},[t("div",$e,[t("div",Fe,[t("h3",null,r(a.name),1),a.remark?(i(),n("span",Se,r(a.remark),1)):f("",!0)]),t("div",je,[t("span",Ne,r(a.fields?.length||0)+" å­—æ®µ",1),t("button",{class:"btn-delete",onClick:d=>z(a.name,d),title:"åˆ é™¤æ¨¡å—"}," ğŸ—‘ï¸ ",8,xe)])]),t("div",Be,[(i(!0),n(h,null,j(a.fields,(d,s)=>(i(),n("span",{key:s,class:"field-tag"},r(d),1))),128))]),e[19]||(e[19]=t("div",{class:"domain-action"}," ç‚¹å‡»ç¼–è¾‘ â†’ ",-1))],8,Ve))),128))]))])):f("",!0),_.value==="new"?(i(),n("div",Pe,[N.value?(i(),n("div",Ie,[e[20]||(e[20]=c(" âœï¸ æ­£åœ¨ç¼–è¾‘: ",-1)),t("strong",null,r(N.value),1),t("button",{class:"btn-small",onClick:A},"å–æ¶ˆç¼–è¾‘")])):f("",!0),t("div",Oe,[t("div",Te,[e[34]||(e[34]=ce('<details class="help-tips" data-v-46f4f41f><summary data-v-46f4f41f>ğŸ“– ä½¿ç”¨æŒ‡å— Usage Guide</summary><div class="tips-content" data-v-46f4f41f><p data-v-46f4f41f><strong data-v-46f4f41f>é¢†åŸŸåç§°ï¼š</strong>ä½¿ç”¨ PascalCase æ ¼å¼ï¼Œå¦‚ <code data-v-46f4f41f>User</code>ã€<code data-v-46f4f41f>Order</code>ã€<code data-v-46f4f41f>Product</code></p><p data-v-46f4f41f><strong data-v-46f4f41f>å­—æ®µç±»å‹ï¼š</strong></p><ul data-v-46f4f41f><li data-v-46f4f41f><code data-v-46f4f41f>string</code> - å­—ç¬¦ä¸² (varchar 255)</li><li data-v-46f4f41f><code data-v-46f4f41f>text</code> - é•¿æ–‡æœ¬ (æ— é•¿åº¦é™åˆ¶)</li><li data-v-46f4f41f><code data-v-46f4f41f>int</code> - 32ä½æ•´æ•°</li><li data-v-46f4f41f><code data-v-46f4f41f>int64</code> - 64ä½æ•´æ•° (é€‚åˆé‡‘é¢ã€å¤§æ•°å€¼)</li><li data-v-46f4f41f><code data-v-46f4f41f>float64</code> - æµ®ç‚¹æ•° (é€‚åˆè¯„åˆ†ã€é‡é‡ç­‰)</li><li data-v-46f4f41f><code data-v-46f4f41f>decimal</code> - ç²¾ç¡®å°æ•° (é€‚åˆé‡‘é¢ï¼Œç²¾åº¦ 10,2)</li><li data-v-46f4f41f><code data-v-46f4f41f>bool</code> - å¸ƒå°”å€¼ (true/false)</li><li data-v-46f4f41f><code data-v-46f4f41f>time</code> - å¿…å¡«æ—¶é—´æˆ³</li><li data-v-46f4f41f><code data-v-46f4f41f>time?</code> - å¯é€‰æ—¶é—´æˆ³ (å¯ä¸ºç©º)</li><li data-v-46f4f41f><code data-v-46f4f41f>date</code> - æ—¥æœŸ (æ— æ—¶é—´éƒ¨åˆ†)</li><li data-v-46f4f41f><code data-v-46f4f41f>date?</code> - å¯é€‰æ—¥æœŸ</li><li data-v-46f4f41f><code data-v-46f4f41f>uuid</code> - UUID å­—ç¬¦ä¸² (å¸¦ç´¢å¼•ï¼Œé€‚åˆå¤–é”®)</li><li data-v-46f4f41f><code data-v-46f4f41f>json</code> - JSON å¯¹è±¡ (éœ€ gorm.io/datatypes)</li><li data-v-46f4f41f><code data-v-46f4f41f>jsonb</code> - JSONB (PostgreSQL ä¸“ç”¨)</li><li data-v-46f4f41f><code data-v-46f4f41f>bytes</code> - äºŒè¿›åˆ¶æ•°æ®</li><li data-v-46f4f41f><code data-v-46f4f41f>enum</code> - æšä¸¾ç±»å‹ï¼Œéœ€å¡«å†™æšä¸¾å€¼ï¼ˆç”¨ <code data-v-46f4f41f>|</code> åˆ†éš”ï¼Œå¦‚ <code data-v-46f4f41f>active|inactive|banned</code>ï¼‰</li></ul><p data-v-46f4f41f><strong data-v-46f4f41f>å­—æ®µå¤‡æ³¨ï¼š</strong>å¯é€‰ï¼Œå¡«å†™åä¼šä½œä¸ºä»£ç æ³¨é‡Šç”Ÿæˆåœ¨å­—æ®µå®šä¹‰è¡Œæœ«</p><p data-v-46f4f41f><strong data-v-46f4f41f>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul data-v-46f4f41f><li data-v-46f4f41f><code data-v-46f4f41f>ID</code>ã€<code data-v-46f4f41f>CreatedAt</code>ã€<code data-v-46f4f41f>UpdatedAt</code> å­—æ®µè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ </li><li data-v-46f4f41f>å¯ç”¨&quot;è½¯åˆ é™¤&quot;ä¼šè‡ªåŠ¨æ·»åŠ  <code data-v-46f4f41f>DeletedAt</code> å­—æ®µ</li><li data-v-46f4f41f>ä½¿ç”¨ â†‘â†“ æŒ‰é’®å¯è°ƒæ•´å­—æ®µé¡ºåº</li><li data-v-46f4f41f>å‹¾é€‰&quot;å¼ºåˆ¶è¦†ç›–&quot;ä¼šå®Œå…¨æ›¿æ¢ç°æœ‰ä»£ç ï¼Œè¯·è°¨æ…ä½¿ç”¨</li><li data-v-46f4f41f>å‹¾é€‰&quot;è‡ªåŠ¨æ³¨å…¥&quot;ä¼šå°†æ¨¡å—æ³¨å…¥åˆ° main.go</li><li data-v-46f4f41f>ç”Ÿæˆåä¼šè‡ªåŠ¨è¿è¡Œ <code data-v-46f4f41f>go mod tidy</code> ä¸‹è½½ä¾èµ–</li><li data-v-46f4f41f>Value Object / Specification / Policy / Event ç›¸å…³åŠŸèƒ½è¯·å‰å¾€ã€Œé¢†åŸŸå¢å¼ºã€</li></ul></div></details>',1)),t("div",qe,[e[21]||(e[21]=t("label",null,[c(" é¢†åŸŸåç§° Domain Name * "),t("span",{class:"tooltip","data-tooltip":"å®ä½“åç§°ï¼Œå°†ç”Ÿæˆå¯¹åº”çš„ Go ç»“æ„ä½“"},"â“˜")],-1)),v(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.name=a),placeholder:"User / Order / Product"},null,512),[[g,o.value.name]])]),t("div",Ee,[e[22]||(e[22]=t("label",null,"é¢†åŸŸå¤‡æ³¨ Remarkï¼ˆå¯é€‰ï¼‰",-1)),v(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.remark=a),placeholder:"ç”¨äºè¯´æ˜è¯¥é¢†åŸŸç”¨é€”"},null,512),[[g,o.value.remark]]),e[23]||(e[23]=t("span",{class:"hint"},"ä¼šæ˜¾ç¤ºåœ¨å·²ç”Ÿæˆæ¨¡å—å¡ç‰‡ä¸Š",-1))]),t("div",Me,[t("div",{class:"section-header"},[e[24]||(e[24]=t("h3",null,"å­—æ®µ Fields",-1)),t("button",{class:"btn-add",onClick:Y},"+ æ·»åŠ å­—æ®µ")]),(i(!0),n(h,null,j(o.value.fields,(a,d)=>(i(),n("div",{class:"field-row",key:d},[v(t("input",{"onUpdate:modelValue":s=>a.name=s,placeholder:"username / email / status",class:"field-name"},null,8,Le),[[g,a.name]]),v(t("select",{"onUpdate:modelValue":s=>a.type=s,class:"field-type"},[(i(!0),n(h,null,j(R.value,s=>(i(),n("option",{key:s.type,value:s.type},r(s.type)+" - "+r(s.description),9,Ae))),128))],8,Re),[[pe,a.type]]),a.type==="enum"?(i(),n("input",{key:0,value:a.enum_values?.join("|"),onInput:s=>ae(a,s.target.value),placeholder:"active|inactive|banned",class:"field-enum","data-tooltip":"æšä¸¾å€¼ç”¨ | åˆ†éš”ï¼Œå¦‚ï¼šactive|inactive"},null,40,Ge)):f("",!0),v(t("input",{"onUpdate:modelValue":s=>a.comment=s,placeholder:"å­—æ®µå¤‡æ³¨",class:"field-comment"},null,8,Je),[[g,a.comment]]),t("div",Qe,[t("button",{class:"btn-move",onClick:s=>ee(d),disabled:d===0,title:"ä¸Šç§»"},"â†‘",8,We),t("button",{class:"btn-move",onClick:s=>te(d),disabled:d===o.value.fields.length-1,title:"ä¸‹ç§»"},"â†“",8,ze),t("button",{class:"btn-remove",onClick:s=>Z(d),disabled:o.value.fields.length===1},"Ã—",8,He)])]))),128))]),t("details",Ke,[e[25]||(e[25]=t("summary",null,"æ‰¹é‡å¯¼å…¥å­—æ®µ Bulk Import",-1)),e[26]||(e[26]=t("p",{class:"bulk-hint"},[c(" æ”¯æŒæ ¼å¼ï¼š"),t("code",null,"name:type:comment"),c("ã€"),t("code",null,"name:type"),c("ã€"),t("code",null,"name::comment"),c("ã€‚ å…è®¸å¤šè¡Œæˆ–é€—å·åˆ†éš”ï¼›æšä¸¾å¯å†™ä¸º "),t("code",null,"status:enum(active|inactive)"),c("ã€‚ ")],-1)),v(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=a=>k.value=a),class:"bulk-textarea",placeholder:`username:string:ç”¨æˆ·å
status:enum(active|inactive):çŠ¶æ€
created_at:time?`},null,512),[[g,k.value]]),t("div",Xe,[t("button",{class:"btn",onClick:se,disabled:!k.value.trim()},"å¯¼å…¥å­—æ®µ",8,Ye),t("button",{class:"btn",onClick:e[7]||(e[7]=a=>k.value=""),disabled:!k.value.trim()},"æ¸…ç©º",8,Ze)]),$.value?(i(),n("div",et,r($.value),1)):f("",!0)]),t("div",tt,[t("div",at,[t("label",lt,[v(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=a=>o.value.soft_delete=a)},null,512),[[M,o.value.soft_delete]]),e[27]||(e[27]=c(" å¯ç”¨è½¯åˆ é™¤ Soft Delete ",-1))])]),t("div",st,[t("label",ot,[v(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=a=>o.value.wire=a)},null,512),[[M,o.value.wire]]),e[28]||(e[28]=c(" è‡ªåŠ¨æ³¨å…¥åˆ° main.go ",-1))])]),t("div",nt,[t("label",it,[v(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=a=>o.value.force=a)},null,512),[[M,o.value.force]]),e[29]||(e[29]=c(" å¼ºåˆ¶è¦†ç›– Force ",-1))])])]),o.value.force?(i(),n("div",dt,[...e[30]||(e[30]=[t("div",{class:"warning-icon"},"âš ï¸",-1),t("div",{class:"warning-content"},[t("strong",null,"è­¦å‘Šï¼šå¼ºåˆ¶è¦†ç›–å°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰æ‰‹åŠ¨ä¿®æ”¹çš„ä»£ç ï¼"),t("p",null,"åªåœ¨é¦–æ¬¡ç”Ÿæˆåç«‹å³ä¿®æ”¹å­—æ®µæ—¶ä½¿ç”¨ã€‚ä¸€æ—¦å¼€å§‹å†™ä¸šåŠ¡é€»è¾‘ï¼Œè¯·å‹¿å‹¾é€‰æ­¤é€‰é¡¹ã€‚")],-1)])])):f("",!0),t("details",ut,[e[33]||(e[33]=t("summary",null,"é«˜çº§é€‰é¡¹ Advanced",-1)),t("div",rt,[e[31]||(e[31]=t("label",null,"è‡ªå®šä¹‰è¡¨å Table Name",-1)),v(t("input",{"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.table_name=a),placeholder:"ï¼ˆè‡ªåŠ¨ï¼šåç§°çš„å¤æ•°å½¢å¼ï¼‰"},null,512),[[g,o.value.table_name]])]),t("div",ft,[e[32]||(e[32]=t("label",null,"è‡ªå®šä¹‰è·¯ç”±å‰ç¼€ Route Base",-1)),v(t("input",{"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.route_base=a),placeholder:"ï¼ˆè‡ªåŠ¨ï¼šåç§°çš„å¤æ•°å½¢å¼ï¼‰"},null,512),[[g,o.value.route_base]])])]),y.value?(i(),n("div",vt,r(y.value),1)):f("",!0),t("div",ct,[t("button",{class:"btn",onClick:oe,disabled:!o.value.name||m.value},r(m.value?"åŠ è½½ä¸­...":"é¢„è§ˆ Preview"),9,mt),t("button",{class:"btn primary",onClick:ne,disabled:!o.value.name||m.value},r(m.value?"ç”Ÿæˆä¸­...":"ç”Ÿæˆ Generate"),9,pt)])]),C.value&&p.value?(i(),n("div",yt,[t("div",bt,[t("h3",null,r(p.value.success?"âœ… å·²ç”Ÿæˆæ–‡ä»¶":"âŒ é”™è¯¯"),1),t("button",{class:"btn-close",onClick:e[13]||(e[13]=a=>C.value=!1)},"Ã—")]),t("div",gt,[(i(!0),n(h,null,j(p.value.files,a=>(i(),n("div",{class:"file",key:a.path},[t("span",{class:E(["file-status",a.status])},r(de(a.status)),3),t("span",_t,r(a.path.split("/").pop()),1)]))),128))]),p.value.message?(i(),n("div",kt,r(p.value.message),1)):f("",!0),t("button",{class:"btn primary",onClick:A,style:{width:"100%","margin-top":"16px"}}," ç”Ÿæˆå¦ä¸€ä¸ª ")])):f("",!0)])])):f("",!0)]),U.value?(i(),n("div",{key:0,class:"modal-overlay",onClick:e[16]||(e[16]=a=>U.value=!1)},[t("div",{class:"modal-dialog",onClick:e[15]||(e[15]=me(()=>{},["stop"]))},[e[38]||(e[38]=t("div",{class:"modal-icon"},"âš ï¸",-1)),e[39]||(e[39]=t("h3",null,"ç¡®è®¤åˆ é™¤",-1)),t("p",ht,[e[36]||(e[36]=c(" ç¡®å®šè¦åˆ é™¤é¢†åŸŸæ¨¡å— ",-1)),t("strong",null,'"'+r(V.value)+'"',1),e[37]||(e[37]=c(" å—ï¼Ÿ ",-1))]),e[40]||(e[40]=t("p",{class:"modal-warning"}," è¿™å°†åˆ é™¤æ•´ä¸ªç›®å½•åŠå…¶æ‰€æœ‰æ–‡ä»¶ï¼Œæ­¤æ“ä½œä¸å¯æ¢å¤ï¼ ",-1)),t("div",wt,[t("button",{class:"btn",onClick:e[14]||(e[14]=a=>U.value=!1)},"å–æ¶ˆ"),t("button",{class:"btn danger",onClick:H},"ç¡®è®¤åˆ é™¤")])])])):f("",!0)],64))}}),Ft=ye(Ct,[["__scopeId","data-v-46f4f41f"]]);export{Ft as default};
