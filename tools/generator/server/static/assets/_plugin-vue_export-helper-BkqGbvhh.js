const r="/api";async function t(e,i){const d=await fetch(`${r}${e}`,{headers:{"Content-Type":"application/json"},...i});if(!d.ok){const o=await d.json();throw new Error(o.error||"Request failed")}return d.json()}const s={initProject:e=>t("/projects/init",{method:"POST",body:JSON.stringify(e)}),previewInitProject:e=>t("/projects/init/preview",{method:"POST",body:JSON.stringify(e)}),generateDomain:e=>t("/domains",{method:"POST",body:JSON.stringify(e)}),previewDomain:e=>t("/domains/preview",{method:"POST",body:JSON.stringify(e)}),listDomains:()=>t("/domains/list"),getDomainDetail:e=>t(`/domains/${e}`),deleteDomain:e=>t(`/domains/${e}`,{method:"DELETE"}),getFieldTypes:()=>t("/field-types"),generateService:e=>t("/services",{method:"POST",body:JSON.stringify(e)}),previewService:e=>t("/services/preview",{method:"POST",body:JSON.stringify(e)}),listServices:()=>t("/services/list"),detectServiceType:e=>t(`/services/detect/${e}`),getServiceDetail:e=>t(`/services/${e}`),deleteService:e=>t(`/services/${e}`,{method:"DELETE"}),getLayout:()=>t("/layout"),runMigration:(e,i,d)=>t("/projects/migrate",{method:"POST",body:JSON.stringify({project_path:e,auto_tidy:i,timeout_seconds:d})}),generateValueObject:e=>t("/ddd/valueobjects",{method:"POST",body:JSON.stringify(e)}),previewValueObject:e=>t("/ddd/valueobjects/preview",{method:"POST",body:JSON.stringify(e)}),generateSpecification:e=>t("/ddd/specs",{method:"POST",body:JSON.stringify(e)}),previewSpecification:e=>t("/ddd/specs/preview",{method:"POST",body:JSON.stringify(e)}),generatePolicy:e=>t("/ddd/policies",{method:"POST",body:JSON.stringify(e)}),previewPolicy:e=>t("/ddd/policies/preview",{method:"POST",body:JSON.stringify(e)}),generateEvent:e=>t("/ddd/events",{method:"POST",body:JSON.stringify(e)}),previewEvent:e=>t("/ddd/events/preview",{method:"POST",body:JSON.stringify(e)}),generateEventHandler:e=>t("/ddd/event-handlers",{method:"POST",body:JSON.stringify(e)}),previewEventHandler:e=>t("/ddd/event-handlers/preview",{method:"POST",body:JSON.stringify(e)}),listDddComponents:e=>t(`/ddd/list?domain=${encodeURIComponent(e)}`),getDddDetail:(e,i,d)=>t(`/ddd/detail?domain=${encodeURIComponent(e)}&type=${encodeURIComponent(i)}&name=${encodeURIComponent(d)}`),getDddSource:(e,i,d="")=>t(`/ddd/source?domain=${encodeURIComponent(e)}&type=${encodeURIComponent(i)}&name=${encodeURIComponent(d)}`),deleteDddItem:e=>t("/ddd/delete",{method:"POST",body:JSON.stringify(e)}),renameDddItem:e=>t("/ddd/rename",{method:"POST",body:JSON.stringify(e)})},a=(e,i)=>{const d=e.__vccOpts||e;for(const[o,n]of i)d[o]=n;return d};export{a as _,s as a};
