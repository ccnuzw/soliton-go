import{d as M,r as u,c as n,a as e,b as f,e as N,j as m,k as _,v as g,F as y,m as b,p as O,t as r,n as U,h as i}from"./index-dux9knJ4.js";import{a as k,_ as G}from"./_plugin-vue_export-helper-GylEkthD.js";const B={class:"editor"},E={class:"layout"},F={class:"form-panel"},L={class:"form-group"},T={class:"methods-section"},D=["onUpdate:modelValue"],R=["onClick","disabled"],$={class:"options"},j={class:"form-group inline"},z={"data-tooltip":"è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶"},I={key:0,class:"error"},q={class:"actions"},A=["disabled"],H=["disabled"],J={key:0,class:"preview-panel"},K={class:"preview-header"},Q={class:"file-list"},W={class:"file-path"},X={key:0,class:"message"},Y=M({__name:"ServiceEditor",setup(Z){const o=u(!1),d=u(null),c=u(""),v=u(!1),s=u({name:"",methods:[""],force:!1});function C(){s.value.methods.push("")}function S(a){s.value.methods.length>1&&s.value.methods.splice(a,1)}async function w(){c.value="",o.value=!0;try{const a=s.value.methods.filter(t=>t.trim());d.value=await k.previewService({...s.value,methods:a}),v.value=!0}catch(a){c.value=a.message}finally{o.value=!1}}async function P(){c.value="",o.value=!0;try{const a=s.value.methods.filter(t=>t.trim());d.value=await k.generateService({...s.value,methods:a}),v.value=!0}catch(a){c.value=a.message}finally{o.value=!1}}function x(){s.value={name:"",methods:[""],force:!1},d.value=null,v.value=!1}function V(a){return{new:"æ–°å»º",overwrite:"è¦†ç›–",skip:"è·³è¿‡",error:"é”™è¯¯"}[a]||a}return(a,t)=>(i(),n("div",B,[t[10]||(t[10]=e("h1",null,"âš™ï¸ ç”Ÿæˆåº”ç”¨æœåŠ¡ Service",-1)),e("div",E,[e("div",F,[t[8]||(t[8]=N('<details class="help-tips" data-v-d7c6f3f0><summary data-v-d7c6f3f0>ğŸ“– ä½¿ç”¨æŒ‡å— Usage Guide</summary><div class="tips-content" data-v-d7c6f3f0><p data-v-d7c6f3f0><strong data-v-d7c6f3f0>æœåŠ¡åç§°ï¼š</strong>ä½¿ç”¨ PascalCase æ ¼å¼ï¼Œå¦‚ <code data-v-d7c6f3f0>OrderService</code>ã€<code data-v-d7c6f3f0>PaymentService</code></p><p data-v-d7c6f3f0><strong data-v-d7c6f3f0>æ–¹æ³•å®šä¹‰ï¼š</strong>æ¯è¡Œä¸€ä¸ªæ–¹æ³•åï¼Œå¦‚ <code data-v-d7c6f3f0>CreateOrder</code>ã€<code data-v-d7c6f3f0>ProcessPayment</code></p><p data-v-d7c6f3f0><strong data-v-d7c6f3f0>é»˜è®¤æ–¹æ³•ï¼š</strong>å¦‚æœä¸å¡«å†™æ–¹æ³•ï¼Œå°†è‡ªåŠ¨ç”Ÿæˆ Createã€Getã€List ä¸‰ä¸ªåŸºç¡€æ–¹æ³•</p><p data-v-d7c6f3f0><strong data-v-d7c6f3f0>æç¤ºï¼š</strong>Service ç”¨äºç¼–æ’è·¨é¢†åŸŸçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥è°ƒç”¨å¤šä¸ª Repository</p></div></details>',1)),e("div",L,[t[3]||(t[3]=e("label",null,[_(" æœåŠ¡åç§° Service Name * "),e("span",{class:"tooltip","data-tooltip":"åº”ç”¨æœåŠ¡åç§°ï¼Œç”¨äºè·¨é¢†åŸŸä¸šåŠ¡é€»è¾‘"},"â“˜")],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.name=l),placeholder:"OrderService / PaymentService"},null,512),[[g,s.value.name]]),t[4]||(t[4]=e("span",{class:"hint"},'å¦‚æœæœªåŒ…å« "Service" åç¼€ä¼šè‡ªåŠ¨æ·»åŠ ',-1))]),e("div",T,[e("div",{class:"section-header"},[t[5]||(t[5]=e("h3",null,"æ–¹æ³• Methods",-1)),e("button",{class:"btn-add",onClick:C},"+ æ·»åŠ æ–¹æ³•")]),(i(!0),n(y,null,b(s.value.methods,(l,p)=>(i(),n("div",{class:"method-row",key:p},[m(e("input",{"onUpdate:modelValue":h=>s.value.methods[p]=h,placeholder:"CreateOrder / ProcessPayment / CancelOrder",class:"method-name"},null,8,D),[[g,s.value.methods[p]]]),e("button",{class:"btn-remove",onClick:h=>S(p),disabled:s.value.methods.length===1},"Ã—",8,R)]))),128)),t[6]||(t[6]=e("p",{class:"hint"},"ç•™ç©ºå°†ç”Ÿæˆé»˜è®¤æ–¹æ³•ï¼šCreateã€Getã€List",-1))]),e("div",$,[e("div",j,[e("label",z,[m(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=l=>s.value.force=l)},null,512),[[O,s.value.force]]),t[7]||(t[7]=_(" å¼ºåˆ¶è¦†ç›– Force ",-1))])])]),c.value?(i(),n("div",I,r(c.value),1)):f("",!0),e("div",q,[e("button",{class:"btn",onClick:w,disabled:!s.value.name||o.value},r(o.value?"åŠ è½½ä¸­...":"é¢„è§ˆ Preview"),9,A),e("button",{class:"btn primary",onClick:P,disabled:!s.value.name||o.value},r(o.value?"ç”Ÿæˆä¸­...":"ç”Ÿæˆ Generate"),9,H)])]),v.value&&d.value?(i(),n("div",J,[e("div",K,[e("h3",null,r(d.value.success?"âœ… å·²ç”Ÿæˆæ–‡ä»¶":"âŒ é”™è¯¯"),1),e("button",{class:"btn-close",onClick:t[2]||(t[2]=l=>v.value=!1)},"Ã—")]),e("div",Q,[(i(!0),n(y,null,b(d.value.files,l=>(i(),n("div",{class:"file",key:l.path},[e("span",{class:U(["file-status",l.status])},r(V(l.status)),3),e("span",W,r(l.path.split("/").pop()),1)]))),128))]),d.value.message?(i(),n("div",X,r(d.value.message),1)):f("",!0),t[9]||(t[9]=e("div",{class:"next-steps"},[e("h4",null,"ä¸‹ä¸€æ­¥ Next Steps:"),e("ol",null,[e("li",null,"åœ¨æœåŠ¡ç»“æ„ä½“ä¸­æ³¨å…¥æ‰€éœ€çš„ Repository"),e("li",null,"åœ¨æ¯ä¸ªæ–¹æ³•ä¸­å®ç°ä¸šåŠ¡é€»è¾‘"),e("li",null,"åœ¨ main.go ä¸­æ³¨å†ŒæœåŠ¡")])],-1)),e("button",{class:"btn primary",onClick:x,style:{width:"100%","margin-top":"16px"}}," ç”Ÿæˆå¦ä¸€ä¸ª ")])):f("",!0)])]))}}),se=G(Y,[["__scopeId","data-v-d7c6f3f0"]]);export{se as default};
